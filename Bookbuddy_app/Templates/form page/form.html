{% extends "base.html" %}

{% block title %}BookBuddy - Book Discovery{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
{% endblock %}

{% block content %}
<main>
    <section class="welcome-section">
        <h2>Book Discovery</h2>
        <p>Let's find your perfect next read! Answer a few questions about your preferences, and we'll recommend books tailored just for you.</p>
    </section>

    <section class="form-section">
        <div class="form-container">
            <form id="book-form" action="{{ url_for('recommendation') }}">
                <!-- Question 1: Standalone or Series -->
                <div class="question-content active" id="question-1">
                    <h3>Are you looking for a standalone book or a series?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="series" value="Standalone">
                            <span class="option-text">Standalone</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="series" value="Series">
                            <span class="option-text">Series</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 2: Themes -->
                <div class="question-content" id="question-2">
                    <h3>What themes are you interested in?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Adventure">
                            <span class="option-text">Adventure</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Romance">
                            <span class="option-text">Romance</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Mystery">
                            <span class="option-text">Mystery</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="themes" value="Self-growth">
                            <span class="option-text">Self-growth</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 3: Genre -->
                <div class="question-content" id="question-3">
                    <h3>What genre do you feel like reading?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Fantasy">
                            <span class="option-text">Fantasy</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Science Fiction">
                            <span class="option-text">Science Fiction</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Historical">
                            <span class="option-text">Historical</span>
                        </label>
                        <label class="option-card">
                            <input type="checkbox" name="genres" value="Thriller">
                            <span class="option-text">Thriller</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 4: Mood -->
                <div class="question-content" id="question-4">
                    <h3>What’s your current mood?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="mood" value="Happy">
                            <span class="option-text">Happy</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="mood" value="Sad">
                            <span class="option-text">Sad</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="mood" value="Curious">
                            <span class="option-text">Curious</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="mood" value="Adventurous">
                            <span class="option-text">Adventurous</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 5: Book Length -->
                <div class="question-content" id="question-5">
                    <h3>What’s your ideal book length?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="length" value="Short">
                            <span class="option-text">Short (less than 200 pages)</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="length" value="Medium">
                            <span class="option-text">Medium (200-400 pages)</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="length" value="Long">
                            <span class="option-text">Long (400+ pages)</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Question 6: Book Pace -->
                <div class="question-content" id="question-6">
                    <h3>Do you want a book with a fast or slow pace?</h3>
                    <div class="options-container">
                        <label class="option-card">
                            <input type="radio" name="pace" value="Fast">
                            <span class="option-text">Fast</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="pace" value="Slow">
                            <span class="option-text">Slow</span>
                        </label>
                        <label class="option-card">
                            <input type="radio" name="pace" value="Balanced">
                            <span class="option-text">Balanced</span>
                        </label>
                    </div>
                    <button type="button" class="btn btn-primary next-button" onclick="showNextQuestion()">Next</button>
                </div>

                <!-- Final: View Recommendations -->
                <div class="question-content" id="recommendations">
                    <h3>Based on your preferences, here are some recommendations:</h3>
                    <div id="recommendations-list" class="recommendations-container">
                        <!-- Recommendations will be populated here -->
                    </div>
                    <button type="submit" class="btn btn-primary submit-button">Get My Books</button>
                </div>
            </form>
        </div>
    </section>
</main>
{% endblock %}

{% block extra_js %}
<script src="/static/js/form.js"></script>
{% endblock %}
